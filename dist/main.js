(()=>{"use strict";var t,e,r,i,n={44:(t,e,r)=>{r.a(t,(async(t,e)=>{try{const t=new(r(626).A),i=await t.from("cats").find();console.log(i),e()}catch(t){e(t)}}),1)},626:(t,e,r)=>{var i,n,o;r.d(e,{A:()=>h}),function(t){t.String="string",t.Text="text",t.RichText="richText",t.Number="number",t.Link="link",t.Money="money",t.Date="date",t.Timestamp="timestamp",t.Email="email",t.Boolean="boolean",t.Password="password",t.Choice="choice",t.Location="location",t.File="file",t.Image="image"}(i||(i={})),function(t){t.Equal="_eq",t.NotEqual="_neq",t.GreaterThan="_gt",t.GreaterThanOrEqual="_gte",t.LessThan="_lt",t.LessThanOrEqual="_lte",t.Like="_like",t.In="_in"}(n||(n={})),function(t){t.Equal="=",t.NotEqual="!=",t.GreaterThan=">",t.GreaterThanOrEqual=">=",t.LessThan="<",t.LessThanOrEqual="<=",t.Like="like",t.In="in"}(o||(o={}));const a={[o.Equal]:n.Equal,[o.NotEqual]:n.NotEqual,[o.GreaterThan]:n.GreaterThan,[o.GreaterThanOrEqual]:n.GreaterThanOrEqual,[o.LessThan]:n.LessThan,[o.LessThanOrEqual]:n.LessThanOrEqual,[o.Like]:n.Like,[o.In]:n.In};var s=function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function a(t){try{h(i.next(t))}catch(t){o(t)}}function s(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}h((i=i.apply(t,e||[])).next())}))};const h=class{constructor(t="http://localhost:1111"){this.isSingleEntity=!1,this.headers={"Content-Type":"application/json"},this.queryParams={},this.baseUrl=t+"/api",this.slug=""}from(t){return this.slug=t,this.isSingleEntity=!1,this.queryParams={},this}single(t){return this.slug=t,this.isSingleEntity=!0,this.queryParams={},{get:()=>s(this,void 0,void 0,(function*(){return this.fetch({path:`/singles/${this.slug}`})})),update:t=>s(this,void 0,void 0,(function*(){return this.fetch({path:`/singles/${this.slug}`,method:"PUT",body:t})}))}}find(t){return s(this,void 0,void 0,(function*(){return this.fetch({path:`/collections/${this.slug}`,queryParams:Object.assign(Object.assign({},this.queryParams),t)})}))}findOneById(t){return s(this,void 0,void 0,(function*(){return this.fetch({path:`/collections/${this.slug}/${t}`})}))}create(t){return s(this,void 0,void 0,(function*(){return this.fetch({path:`/collections/${this.slug}`,method:"POST",body:t})}))}update(t,e){return s(this,void 0,void 0,(function*(){return this.fetch({path:`/collections/${this.slug}/${t}`,method:"PUT",body:e})}))}patch(t,e){return s(this,void 0,void 0,(function*(){return this.fetch({path:`/collections/${this.slug}/${t}`,method:"PATCH",body:e})}))}delete(t){return s(this,void 0,void 0,(function*(){return this.fetch({path:`/collections/${this.slug}/${t}`,method:"DELETE"}).then((()=>t))}))}where(t){const e=Object.values(o).reverse().find((e=>t.includes(` ${e} `)));if(!e)throw new Error(`Invalid where clause. Where clause must include one of the following operators: ${Object.values(o).join(", ")}.`);const[r,i]=t.split(e).map((t=>t.trim())),n=a[e];return this.queryParams[r+n]=i,this}andWhere(t){return this.where(t)}orderBy(t,e){return this.queryParams.orderBy=t,this.queryParams.order=(null==e?void 0:e.desc)?"DESC":"ASC",this}with(t){return this.queryParams.relations=t.join(","),this}login(t,e,r){return s(this,void 0,void 0,(function*(){const i=yield this.fetch({path:`/auth/${t}/login`,method:"POST",body:{email:e,password:r}});return this.headers.Authorization=`Bearer ${i.token}`,!0}))}logout(){delete this.headers.Authorization}signup(t,e,r){return s(this,void 0,void 0,(function*(){const i=yield this.fetch({path:`/auth/${t}/signup`,method:"POST",body:{email:e,password:r}});return this.headers.Authorization=`Bearer ${i.token}`,!0}))}me(){return s(this,void 0,void 0,(function*(){return this.fetch({path:`/auth/${this.slug}/me`})}))}fetch(t){return s(this,arguments,void 0,(function*({path:t,method:e,body:r,queryParams:i}){const n=new URL(this.baseUrl+t);return Object.entries(i||[]).forEach((([t,e])=>{null!=e&&n.searchParams.append(t,e.toString())})),fetch(n.toString(),{headers:this.headers,method:e||"GET",body:r?JSON.stringify(r):void 0}).then((t=>t.json()))}))}upload(t,e){return s(this,void 0,void 0,(function*(){const r=new FormData;return r.append("file",e),r.append("entity",this.slug),r.append("property",t),yield fetch(`${this.baseUrl}/upload/file`,{method:"POST",body:r,headers:{Authorization:this.headers.Authorization}}).catch((t=>(console.error(t),{}))),!0}))}uploadImage(t,e){return s(this,void 0,void 0,(function*(){const r=new FormData;return r.append("image",e),r.append("entity",this.slug),r.append("property",t),fetch(`${this.baseUrl}/upload/image`,{method:"POST",body:r,headers:{Authorization:this.headers.Authorization}}).then((t=>t.json())).catch((t=>(console.error(t),{})))}))}imageUrl(t,e){return`${this.baseUrl.replace(/\/api$/,"")}/storage/${t[e]}`}}}},o={};function a(t){var e=o[t];if(void 0!==e)return e.exports;var r=o[t]={exports:{}};return n[t](r,r.exports,a),r.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",i=t=>{t&&t.d<1&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},a.a=(n,o,a)=>{var s;a&&((s=[]).d=-1);var h,u,c,l=new Set,d=n.exports,p=new Promise(((t,e)=>{c=e,u=t}));p[e]=d,p[t]=t=>(s&&t(s),l.forEach(t),p.catch((t=>{}))),n.exports=p,o((n=>{var o;h=(n=>n.map((n=>{if(null!==n&&"object"==typeof n){if(n[t])return n;if(n.then){var o=[];o.d=0,n.then((t=>{a[e]=t,i(o)}),(t=>{a[r]=t,i(o)}));var a={};return a[t]=t=>t(o),a}}var s={};return s[t]=t=>{},s[e]=n,s})))(n);var a=()=>h.map((t=>{if(t[r])throw t[r];return t[e]})),u=new Promise((e=>{(o=()=>e(a)).r=0;var r=t=>t!==s&&!l.has(t)&&(l.add(t),t&&!t.d&&(o.r++,t.push(o)));h.map((e=>e[t](r)))}));return o.r?u:a()}),(t=>(t?c(p[r]=t):u(d),i(s)))),s&&s.d<0&&(s.d=0)},a.d=(t,e)=>{for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a(44)})();